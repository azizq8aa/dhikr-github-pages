<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أذكار الصباح والمساء والنوم</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            transition: all 0.3s ease;
            min-height: 100vh;
        }

        .morning {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }

        .evening {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
        }

        .sleep {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            border: 2px solid transparent;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn.active {
            border-color: #fff;
            box-shadow: 0 0 20px rgba(255,255,255,0.3);
        }

        .morning .btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .evening .btn {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .sleep .btn {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        #reminder-btn {
            background: #ff6b35;
            color: white;
            margin-bottom: 10px;
        }

        #reminder-btn.active {
            background: #27ae60;
        }

        .progress-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            padding: 5px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .progress-bar {
            height: 30px;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            border-radius: 20px;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            width: 0%;
        }

        .dhikr-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
        }

        .dhikr-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .dhikr-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .dhikr-card.completed {
            background: rgba(46, 204, 113, 0.3);
            border-color: #27ae60;
        }

        .dhikr-text {
            font-size: 18px;
            line-height: 1.8;
            margin-bottom: 15px;
            text-align: center;
        }

        .dhikr-source {
            font-size: 14px;
            opacity: 0.8;
            text-align: center;
            margin-bottom: 15px;
            font-style: italic;
        }

        .dhikr-counter {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }

        .counter-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: inherit;
        }

        .counter-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        .counter-display {
            font-size: 18px;
            font-weight: bold;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            min-width: 80px;
            text-align: center;
        }

        .visitor-counter {
            text-align: center;
            margin-top: 30px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }

        .reset-container {
            text-align: center;
            margin: 20px 0;
            display: none;
        }

        .reset-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            border: none;
            color: white;
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .reset-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        .beta-notice {
            background: rgba(255, 193, 7, 0.2);
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
            color: #ffc107;
            font-weight: bold;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .dhikr-grid {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 200px;
            }
        }
    </style>
</head>
<body class="morning">
    <div class="container">
        
        <div class="header">
            <h1 id="main-title">أذكار الصباح</h1>
            <div class="controls">
                <button id="reminder-btn" class="btn" onclick="toggleReminder()">🔔 تفعيل التذكير</button>
            </div>
            <div class="controls">
                <button class="btn active" onclick="showMorning()">أذكار الصباح</button>
                <button class="btn" onclick="showEvening()">أذكار المساء</button>
                <button class="btn" onclick="showSleep()">أذكار النوم</button>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar">
                    <span id="progress-text">0/24 (0%)</span>
                </div>
            </div>
        </div>

        <div class="dhikr-grid" id="dhikr-container">
            <!-- سيتم ملء الأذكار هنا بواسطة JavaScript -->
        </div>

        <div class="reset-container" id="reset-container">
            <button class="reset-btn" onclick="resetAllCounters()">🔄 إعادة الأذكار</button>
        </div>

        <div class="visitor-counter">
            <p>عدد الزوار: <span id="visitor-count">1730</span></p>
        </div>
    </div>

    <script>
        // بيانات الأذكار
        const morningDhikr = [
            {
                text: "أصبحنا وأصبح الملك لله، والحمد لله، لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير، رب أسألك خير ما في هذا اليوم وخير ما بعده، وأعوذ بك من شر ما في هذا اليوم وشر ما بعده، رب أعوذ بك من الكسل وسوء الكبر، رب أعوذ بك من عذاب في النار وعذاب في القبر",
                source: "رواه مسلم",
                count: 1,
                completed: false
            },
            {
                text: "اللهم بك أصبحنا وبك أمسينا وبك نحيا وبك نموت وإليك النشور",
                source: "رواه الترمذي",
                count: 1,
                completed: false
            },
            {
                text: "أصبحنا على فطرة الإسلام، وعلى كلمة الإخلاص، وعلى دين نبينا محمد صلى الله عليه وسلم، وعلى ملة أبينا إبراهيم حنيفا مسلما وما كان من المشركين",
                source: "رواه أحمد",
                count: 1,
                completed: false
            },
            {
                text: "سبحان الله وبحمده",
                source: "مائة مرة. رواه مسلم",
                count: 100,
                completed: false
            },
            {
                text: "لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير",
                source: "مائة مرة. رواه البخاري ومسلم",
                count: 100,
                completed: false
            },
            {
                text: "سبحان الله وبحمده، عدد خلقه ورضا نفسه وزنة عرشه ومداد كلماته",
                source: "ثلاث مرات. رواه مسلم",
                count: 3,
                completed: false
            },
            {
                text: "اللهم أعني على ذكرك وشكرك وحسن عبادتك",
                source: "رواه أبو داود",
                count: 1,
                completed: false
            },
            {
                text: "اللهم عافني في بدني، اللهم عافني في سمعي، اللهم عافني في بصري، لا إله إلا أنت",
                source: "ثلاث مرات. رواه أبو داود",
                count: 3,
                completed: false
            },
            {
                text: "اللهم إني أعوذ بك من الكفر والفقر، وأعوذ بك من عذاب القبر، لا إله إلا أنت",
                source: "ثلاث مرات. رواه أبو داود",
                count: 3,
                completed: false
            },
            {
                text: "حسبي الله لا إله إلا هو عليه توكلت وهو رب العرش العظيم",
                source: "سبع مرات. رواه أبو داود",
                count: 7,
                completed: false
            },
            {
                text: "اللهم ما أصبح بي من نعمة أو بأحد من خلقك فمنك وحدك لا شريك لك، فلك الحمد ولك الشكر",
                source: "رواه أبو داود",
                count: 1,
                completed: false
            },
            {
                text: "اللهم إني أسألك العفو والعافية في الدنيا والآخرة، اللهم إني أسألك العفو والعافية في ديني ودنياي وأهلي ومالي، اللهم استر عوراتي وآمن روعاتي، اللهم احفظني من بين يدي ومن خلفي وعن يميني وعن شمالي ومن فوقي، وأعوذ بعظمتك أن أغتال من تحتي",
                source: "رواه أبو داود",
                count: 1,
                completed: false
            },
            {
                text: "يا حي يا قيوم برحمتك أستغيث أصلح لي ديني كله ولا تكلني إلى نفسي طرفة عين",
                source: "رواه الحاكم",
                count: 1,
                completed: false
            },
            {
                text: "أستغفر الله العظيم الذي لا إله إلا هو الحي القيوم وأتوب إليه",
                source: "ثلاث مرات. رواه أبو داود",
                count: 3,
                completed: false
            },
            {
                text: "يا رب لك الحمد كما ينبغي لجلال وجهك ولعظيم سلطانك",
                source: "ثلاث مرات. رواه أحمد",
                count: 3,
                completed: false
            },
            {
                text: "اللهم إني أسألك من فضلك ورحمتك، فإنه لا يملكها إلا أنت",
                source: "ثلاث مرات. رواه الطبراني",
                count: 3,
                completed: false
            },
            {
                text: "اللهم أنت ربي لا إله إلا أنت، خلقتني وأنا عبدك، وأنا على عهدك ووعدك ما استطعت، أعوذ بك من شر ما صنعت، أبوء لك بنعمتك علي، وأبوء لك بذنبي فاغفر لي فإنه لا يغفر الذنوب إلا أنت",
                source: "رواه البخاري",
                count: 1,
                completed: false
            },
            {
                text: "رضيت بالله ربا وبالإسلام دينا وبمحمد صلى الله عليه وسلم رسولا",
                source: "ثلاث مرات. رواه أبو داود",
                count: 3,
                completed: false
            },
            {
                text: "سبحان الله",
                source: "ثلاث وثلاثون مرة. رواه مسلم",
                count: 33,
                completed: false
            },
            {
                text: "الحمد لله",
                source: "ثلاث وثلاثون مرة. رواه مسلم",
                count: 33,
                completed: false
            },
            {
                text: "الله أكبر",
                source: "أربع وثلاثون مرة. رواه مسلم",
                count: 34,
                completed: false
            },
            {
                text: "لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير",
                source: "عشر مرات. رواه أحمد",
                count: 10,
                completed: false
            },
            {
                text: "بسم الله الذي لا يضر مع اسمه شيء في الأرض ولا في السماء وهو السميع العليم",
                source: "ثلاث مرات. رواه أبو داود",
                count: 3,
                completed: false
            },
            {
                text: "اللهم صل وسلم على نبينا محمد",
                source: "عشر مرات. رواه أحمد",
                count: 10,
                completed: false
            }
        ];

        const eveningDhikr = [
            {
                text: "أمسينا وأمسى الملك لله، والحمد لله، لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير، رب أسألك خير ما في هذه الليلة وخير ما بعدها، وأعوذ بك من شر ما في هذه الليلة وشر ما بعدها، رب أعوذ بك من الكسل وسوء الكبر، رب أعوذ بك من عذاب في النار وعذاب في القبر",
                source: "رواه مسلم",
                count: 1,
                completed: false
            },
            {
                text: "اللهم بك أمسينا وبك أصبحنا وبك نحيا وبك نموت وإليك المصير",
                source: "رواه الترمذي",
                count: 1,
                completed: false
            },
            {
                text: "أمسينا على فطرة الإسلام، وعلى كلمة الإخلاص، وعلى دين نبينا محمد صلى الله عليه وسلم، وعلى ملة أبينا إبراهيم حنيفا مسلما وما كان من المشركين",
                source: "رواه أحمد",
                count: 1,
                completed: false
            },
            {
                text: "سبحان الله وبحمده",
                source: "مائة مرة. رواه مسلم",
                count: 100,
                completed: false
            },
            {
                text: "لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير",
                source: "مائة مرة. رواه البخاري ومسلم",
                count: 100,
                completed: false
            },
            {
                text: "سبحان الله وبحمده، عدد خلقه ورضا نفسه وزنة عرشه ومداد كلماته",
                source: "ثلاث مرات. رواه مسلم",
                count: 3,
                completed: false
            },
            {
                text: "اللهم أعني على ذكرك وشكرك وحسن عبادتك",
                source: "رواه أبو داود",
                count: 1,
                completed: false
            },
            {
                text: "اللهم عافني في بدني، اللهم عافني في سمعي، اللهم عافني في بصري، لا إله إلا أنت",
                source: "ثلاث مرات. رواه أبو داود",
                count: 3,
                completed: false
            },
            {
                text: "اللهم إني أعوذ بك من الكفر والفقر، وأعوذ بك من عذاب القبر، لا إله إلا أنت",
                source: "ثلاث مرات. رواه أبو داود",
                count: 3,
                completed: false
            },
            {
                text: "حسبي الله لا إله إلا هو عليه توكلت وهو رب العرش العظيم",
                source: "سبع مرات. رواه أبو داود",
                count: 7,
                completed: false
            },
            {
                text: "اللهم ما أمسى بي من نعمة أو بأحد من خلقك فمنك وحدك لا شريك لك، فلك الحمد ولك الشكر",
                source: "رواه أبو داود",
                count: 1,
                completed: false
            },
            {
                text: "اللهم إني أسألك العفو والعافية في الدنيا والآخرة، اللهم إني أسألك العفو والعافية في ديني ودنياي وأهلي ومالي، اللهم استر عوراتي وآمن روعاتي، اللهم احفظني من بين يدي ومن خلفي وعن يميني وعن شمالي ومن فوقي، وأعوذ بعظمتك أن أغتال من تحتي",
                source: "رواه أبو داود",
                count: 1,
                completed: false
            },
            {
                text: "يا حي يا قيوم برحمتك أستغيث أصلح لي ديني كله ولا تكلني إلى نفسي طرفة عين",
                source: "رواه الحاكم",
                count: 1,
                completed: false
            },
            {
                text: "أستغفر الله العظيم الذي لا إله إلا هو الحي القيوم وأتوب إليه",
                source: "ثلاث مرات. رواه أبو داود",
                count: 3,
                completed: false
            },
            {
                text: "يا رب لك الحمد كما ينبغي لجلال وجهك ولعظيم سلطانك",
                source: "ثلاث مرات. رواه أحمد",
                count: 3,
                completed: false
            },
            {
                text: "اللهم إني أسألك من فضلك ورحمتك، فإنه لا يملكها إلا أنت",
                source: "ثلاث مرات. رواه الطبراني",
                count: 3,
                completed: false
            },
            {
                text: "اللهم أنت ربي لا إله إلا أنت، خلقتني وأنا عبدك، وأنا على عهدك ووعدك ما استطعت، أعوذ بك من شر ما صنعت، أبوء لك بنعمتك علي، وأبوء لك بذنبي فاغفر لي فإنه لا يغفر الذنوب إلا أنت",
                source: "رواه البخاري",
                count: 1,
                completed: false
            },
            {
                text: "رضيت بالله ربا وبالإسلام دينا وبمحمد صلى الله عليه وسلم رسولا",
                source: "ثلاث مرات. رواه أبو داود",
                count: 3,
                completed: false
            },
            {
                text: "سبحان الله",
                source: "ثلاث وثلاثون مرة. رواه مسلم",
                count: 33,
                completed: false
            },
            {
                text: "الحمد لله",
                source: "ثلاث وثلاثون مرة. رواه مسلم",
                count: 33,
                completed: false
            },
            {
                text: "الله أكبر",
                source: "أربع وثلاثون مرة. رواه مسلم",
                count: 34,
                completed: false
            },
            {
                text: "لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير",
                source: "عشر مرات. رواه أحمد",
                count: 10,
                completed: false
            },
            {
                text: "بسم الله الذي لا يضر مع اسمه شيء في الأرض ولا في السماء وهو السميع العليم",
                source: "ثلاث مرات. رواه أبو داود",
                count: 3,
                completed: false
            },
            {
                text: "أعوذ بكلمات الله التامات من شر ما خلق",
                source: "ثلاث مرات. رواه مسلم",
                count: 3,
                completed: false
            }
        ];

        const sleepDhikr = [
            {
                text: "باسمك ربي وضعت جنبي، وبك أرفعه، فإن أمسكت نفسي فارحمها، وإن أرسلتها فاحفظها بما تحفظ به عبادك الصالحين",
                source: "رواه البخاري ومسلم",
                count: 1,
                completed: false
            },
            {
                text: "اللهم إنك خلقت نفسي وأنت توفاها، لك مماتها ومحياها، إن أحييتها فاحفظها، وإن أمتها فاغفر لها، اللهم إني أسألك العافية",
                source: "رواه مسلم",
                count: 1,
                completed: false
            },
            {
                text: "اللهم قني عذابك يوم تبعث عبادك",
                source: "ثلاث مرات. رواه أبو داود والترمذي",
                count: 3,
                completed: false
            },
            {
                text: "باسمك اللهم أموت وأحيا",
                source: "رواه البخاري",
                count: 1,
                completed: false
            },
            {
                text: "سبحان الله",
                source: "ثلاث وثلاثون مرة. رواه البخاري ومسلم",
                count: 33,
                completed: false
            },
            {
                text: "الحمد لله",
                source: "ثلاث وثلاثون مرة. رواه البخاري ومسلم",
                count: 33,
                completed: false
            },
            {
                text: "الله أكبر",
                source: "أربع وثلاثون مرة. رواه البخاري ومسلم",
                count: 34,
                completed: false
            },
            {
                text: "اللهم رب السماوات ورب الأرض ورب العرش العظيم، ربنا ورب كل شيء، فالق الحب والنوى، ومنزل التوراة والإنجيل والفرقان، أعوذ بك من شر كل شيء أنت آخذ بناصيته، اللهم أنت الأول فليس قبلك شيء، وأنت الآخر فليس بعدك شيء، وأنت الظاهر فليس فوقك شيء، وأنت الباطن فليس دونك شيء، اقض عنا الدين وأغننا من الفقر",
                source: "رواه مسلم",
                count: 1,
                completed: false
            },
            {
                text: "الحمد لله الذي أطعمنا وسقانا، وكفانا، وآوانا، فكم ممن لا كافي له ولا مؤوي",
                source: "رواه مسلم",
                count: 1,
                completed: false
            },
            {
                text: "اللهم عالم الغيب والشهادة فاطر السماوات والأرض رب كل شيء ومليكه، أشهد أن لا إله إلا أنت، أعوذ بك من شر نفسي ومن شر الشيطان وشركه، وأن أقترف على نفسي سوءا أو أجره إلى مسلم",
                source: "رواه أبو داود والترمذي",
                count: 1,
                completed: false
            },
            {
                text: "أستغفر الله",
                source: "ثلاث مرات. رواه أبو داود",
                count: 3,
                completed: false
            },
            {
                text: "اللهم أسلمت نفسي إليك، وفوضت أمري إليك، وألجأت ظهري إليك، رغبة ورهبة إليك، لا ملجأ ولا منجا منك إلا إليك، اللهم آمنت بكتابك الذي أنزلت، وبنبيك الذي أرسلت",
                source: "رواه البخاري ومسلم",
                count: 1,
                completed: false
            },
            {
                text: "بسم الله أرقي نفسي، من كل شيء يؤذيني، من شر كل نفس أو عين حاسد، الله يشفيني، بسم الله أرقي نفسي",
                source: "ثلاث مرات. رواه مسلم",
                count: 3,
                completed: false
            },
            {
                text: "أعوذ بكلمات الله التامات من غضبه وعقابه وشر عباده، ومن همزات الشياطين وأن يحضرون",
                source: "رواه أبو داود والترمذي",
                count: 1,
                completed: false
            },
            {
                text: "اللهم إني أعوذ بوجهك الكريم وكلماتك التامات من شر ما أنت آخذ بناصيته، اللهم أنت تكشف المأثم والمغرم، اللهم لا يهزم جندك، ولا يخلف وعدك، ولا ينفع ذا الجد منك الجد، سبحانك وبحمدك",
                source: "رواه أبو داود",
                count: 1,
                completed: false
            }
        ];

        let currentMode = 'morning';
        let reminderInterval = null;
        let reminderActive = false;

        // تحديث عداد الزوار
        function updateVisitorCount() {
            let count = localStorage.getItem('visitorCount');
            if (!count) {
                count = 1730;
                localStorage.setItem('visitorCount', count);
            } else {
                count = parseInt(count) + 1;
                localStorage.setItem('visitorCount', count);
            }
            document.getElementById('visitor-count').textContent = count;
        }

        // تحميل التقدم المحفوظ
        function loadProgress() {
            const savedMorning = localStorage.getItem('morningProgress');
            const savedEvening = localStorage.getItem('eveningProgress');
            const savedSleep = localStorage.getItem('sleepProgress');
            
            if (savedMorning) {
                const progress = JSON.parse(savedMorning);
                progress.forEach((item, index) => {
                    if (morningDhikr[index]) {
                        morningDhikr[index].completed = item.completed;
                        morningDhikr[index].currentCount = item.currentCount || 0;
                    }
                });
            }
            
            if (savedEvening) {
                const progress = JSON.parse(savedEvening);
                progress.forEach((item, index) => {
                    if (eveningDhikr[index]) {
                        eveningDhikr[index].completed = item.completed;
                        eveningDhikr[index].currentCount = item.currentCount || 0;
                    }
                });
            }

            if (savedSleep) {
                const progress = JSON.parse(savedSleep);
                progress.forEach((item, index) => {
                    if (sleepDhikr[index]) {
                        sleepDhikr[index].completed = item.completed;
                        sleepDhikr[index].currentCount = item.currentCount || 0;
                    }
                });
            }
        }

        // حفظ التقدم
        function saveProgress() {
            const morningProgress = morningDhikr.map(dhikr => ({
                completed: dhikr.completed,
                currentCount: dhikr.currentCount || 0
            }));
            
            const eveningProgress = eveningDhikr.map(dhikr => ({
                completed: dhikr.completed,
                currentCount: dhikr.currentCount || 0
            }));

            const sleepProgress = sleepDhikr.map(dhikr => ({
                completed: dhikr.completed,
                currentCount: dhikr.currentCount || 0
            }));
            
            localStorage.setItem('morningProgress', JSON.stringify(morningProgress));
            localStorage.setItem('eveningProgress', JSON.stringify(eveningProgress));
            localStorage.setItem('sleepProgress', JSON.stringify(sleepProgress));
        }

        // الحصول على الأذكار الحالية
        function getCurrentDhikr() {
            if (currentMode === 'morning') return morningDhikr;
            if (currentMode === 'evening') return eveningDhikr;
            return sleepDhikr;
        }

        // تحديث شريط التقدم
        function updateProgress() {
            const currentDhikr = getCurrentDhikr();
            const completedCount = currentDhikr.filter(dhikr => dhikr.completed).length;
            const totalCount = currentDhikr.length;
            const percentage = totalCount > 0 ? Math.round((completedCount / totalCount) * 100) : 0;
            
            document.getElementById('progress-bar').style.width = percentage + '%';
            document.getElementById('progress-text').textContent = `${completedCount}/${totalCount} (${percentage}%)`;
            
            // إظهار زر الإعادة عند إكمال جميع الأذكار
            const resetContainer = document.getElementById('reset-container');
            
            if (completedCount === totalCount && totalCount > 0) {
                resetContainer.style.display = 'block';
            } else {
                resetContainer.style.display = 'none';
            }
        }

        // عرض الأذكار
        function displayDhikr() {
            const container = document.getElementById('dhikr-container');
            const currentDhikr = getCurrentDhikr();
            
            container.innerHTML = '';
            
            currentDhikr.forEach((dhikr, index) => {
                const card = document.createElement('div');
                card.className = `dhikr-card ${dhikr.completed ? 'completed' : ''}`;
                
                const currentCount = dhikr.currentCount || 0;
                
                card.innerHTML = `
                    <div class="dhikr-text">${dhikr.text}</div>
                    <div class="dhikr-source">${dhikr.source}</div>
                    <div class="dhikr-counter">
                        <button class="counter-btn" onclick="decrementCounter(${index})">-</button>
                        <div class="counter-display">${currentCount}/${dhikr.count}</div>
                        <button class="counter-btn" onclick="incrementCounter(${index})">+</button>
                    </div>
                `;
                
                container.appendChild(card);
            });
            
            updateProgress();
        }

        // زيادة العداد
        function incrementCounter(index) {
            const currentDhikr = getCurrentDhikr();
            const dhikr = currentDhikr[index];
            
            if (!dhikr.currentCount) dhikr.currentCount = 0;
            
            if (dhikr.currentCount < dhikr.count) {
                dhikr.currentCount++;
                
                if (dhikr.currentCount === dhikr.count) {
                    dhikr.completed = true;
                }
                
                saveProgress();
                displayDhikr();
            }
        }

        // تقليل العداد
        function decrementCounter(index) {
            const currentDhikr = getCurrentDhikr();
            const dhikr = currentDhikr[index];
            
            if (!dhikr.currentCount) dhikr.currentCount = 0;
            
            if (dhikr.currentCount > 0) {
                dhikr.currentCount--;
                dhikr.completed = false;
                
                saveProgress();
                displayDhikr();
            }
        }

        // عرض أذكار الصباح
        function showMorning() {
            currentMode = 'morning';
            document.body.className = 'morning';
            document.getElementById('main-title').textContent = 'أذكار الصباح';
            
            // تحديث الأزرار
            const buttons = document.querySelectorAll('.controls .btn:not(#reminder-btn)');
            buttons[0].classList.add('active');
            buttons[1].classList.remove('active');
            buttons[2].classList.remove('active');
            
            displayDhikr();
        }

        // عرض أذكار المساء
        function showEvening() {
            currentMode = 'evening';
            document.body.className = 'evening';
            document.getElementById('main-title').textContent = 'أذكار المساء';
            
            // تحديث الأزرار
            const buttons = document.querySelectorAll('.controls .btn:not(#reminder-btn)');
            buttons[0].classList.remove('active');
            buttons[1].classList.add('active');
            buttons[2].classList.remove('active');
            
            displayDhikr();
        }

        // عرض أذكار النوم
        function showSleep() {
            currentMode = 'sleep';
            document.body.className = 'sleep';
            document.getElementById('main-title').textContent = 'أذكار النوم';
            
            // تحديث الأزرار
            const buttons = document.querySelectorAll('.controls .btn:not(#reminder-btn)');
            buttons[0].classList.remove('active');
            buttons[1].classList.remove('active');
            buttons[2].classList.add('active');
            
            displayDhikr();
        }

        // تفعيل/إلغاء التذكير
        function toggleReminder() {
            const btn = document.getElementById('reminder-btn');
            
            if (reminderActive) {
                // إلغاء التذكير
                clearInterval(reminderInterval);
                reminderActive = false;
                btn.textContent = '🔔 تفعيل التذكير';
                btn.classList.remove('active');
                localStorage.setItem('reminderActive', 'false');
            } else {
                // تفعيل التذكير
                if ('Notification' in window) {
                    Notification.requestPermission().then(function (permission) {
                        if (permission === 'granted') {
                            reminderActive = true;
                            btn.textContent = '🔕 إلغاء التذكير';
                            btn.classList.add('active');
                            localStorage.setItem('reminderActive', 'true');
                            
                            // تذكير كل 6 ساعات (21600000 مللي ثانية)
                            reminderInterval = setInterval(function() {
                                new Notification('تذكير الأذكار', {
                                    body: 'حان وقت قراءة الأذكار',
                                    icon: 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="gold" d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>'
                                });
                            }, 21600000); // 6 ساعات
                        }
                    });
                } else {
                    alert('المتصفح لا يدعم الإشعارات');
                }
            }
        }

        // إعادة تعيين جميع العدادات
        function resetAllCounters() {
            if (confirm('هل أنت متأكد من إعادة تعيين جميع الأذكار؟')) {
                // إعادة تعيين العدادات حسب الوضع الحالي
                if (currentMode === 'morning') {
                    morningDhikr.forEach(dhikr => {
                        dhikr.currentCount = 0;
                        dhikr.completed = false;
                    });
                } else if (currentMode === 'evening') {
                    eveningDhikr.forEach(dhikr => {
                        dhikr.currentCount = 0;
                        dhikr.completed = false;
                    });
                } else if (currentMode === 'sleep') {
                    sleepDhikr.forEach(dhikr => {
                        dhikr.currentCount = 0;
                        dhikr.completed = false;
                    });
                }
                
                // حفظ التقدم وتحديث العرض
                saveProgress();
                displayDhikr();
                updateProgress();
                
                // إخفاء زر الإعادة
                document.getElementById('reset-container').style.display = 'none';
            }
        }

        // تحميل حالة التذكير
        function loadReminderState() {
            const saved = localStorage.getItem('reminderActive');
            if (saved === 'true') {
                toggleReminder();
            }
        }

        // تهيئة الصفحة
        function init() {
            updateVisitorCount();
            loadProgress();
            loadReminderState();
            displayDhikr();
        }

        // تشغيل التطبيق عند تحميل الصفحة
        window.addEventListener('load', init);
    </script>
</body>
</html>

