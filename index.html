<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أذكار الصباح والمساء - dhikrkhir.com</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            transition: all 0.3s ease;
            min-height: 100vh;
        }

        /* الوضع الفاتح - أذكار الصباح */
        body.morning {
            background: linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%);
            color: #2c3e50;
        }

        /* الوضع الداكن - أذكار المساء */
        body.evening {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .main-title {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.8;
            margin-bottom: 20px;
        }

        .toggle-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .toggle-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            min-width: 150px;
        }

        .toggle-btn.morning {
            background: #27ae60;
            color: white;
        }

        .toggle-btn.evening {
            background: #3498db;
            color: white;
        }

        .toggle-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .toggle-btn.active {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
        }

        .progress-bar {
            background: rgba(255,255,255,0.2);
            border-radius: 10px;
            padding: 3px;
            margin-bottom: 20px;
        }

        .progress-fill {
            background: rgba(255,255,255,0.8);
            height: 20px;
            border-radius: 7px;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #2c3e50;
        }

        .dhikr-card {
            background: rgba(255,255,255,0.9);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        body.evening .dhikr-card {
            background: rgba(255,255,255,0.1);
            color: white;
        }

        .dhikr-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .dhikr-number {
            background: #27ae60;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: 0 auto 15px;
        }

        body.evening .dhikr-number {
            background: #3498db;
        }

        .dhikr-text {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 10px;
            text-align: center;
        }

        .dhikr-source {
            font-size: 0.9rem;
            opacity: 0.7;
            text-align: center;
            margin-bottom: 15px;
            font-style: italic;
        }

        .dhikr-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .count-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        body.evening .count-btn {
            background: #3498db;
        }

        .count-btn:hover {
            transform: scale(1.05);
        }

        .count-display {
            background: rgba(255,255,255,0.8);
            color: #2c3e50;
            padding: 8px 16px;
            border-radius: 15px;
            font-weight: bold;
            min-width: 60px;
            text-align: center;
        }

        .reset-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .reset-btn:hover {
            background: #c0392b;
        }

        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
        }

        .visitor-count {
            font-size: 1.1rem;
            font-weight: bold;
            margin-top: 10px;
        }

        .completion-message {
            background: rgba(46, 204, 113, 0.9);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 20px;
            display: none;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .main-title {
                font-size: 2rem;
            }
            
            .dhikr-card {
                padding: 20px;
            }
            
            .dhikr-controls {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body class="morning">
    <div class="container">
        <div class="header">
            <h1 class="main-title">أذكار الصباح</h1>
            <p class="subtitle">بسم الله نبدأ</p>
            
            <div class="toggle-buttons">
                <button class="toggle-btn morning active" onclick="switchMode('morning')">
                    🌅 أذكار الصباح
                </button>
                <button class="toggle-btn evening" onclick="switchMode('evening')">
                    🌙 أذكار المساء
                </button>
            </div>

            <!-- زر التذكير -->
            <div class="reminder-container" style="margin-bottom: 15px;">
                <button id="reminderBtn" class="reminder-btn" onclick="toggleReminder()" style="
                    background: rgba(255,255,255,0.2);
                    color: white;
                    border: 2px solid rgba(255,255,255,0.3);
                    padding: 10px 20px;
                    border-radius: 20px;
                    cursor: pointer;
                    font-size: 1rem;
                    transition: all 0.3s ease;
                    font-weight: bold;
                " onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                    🔔 تفعيل التذكير
                </button>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%">
                    0/24 (0%)
                </div>
            </div>
        </div>

        <div class="completion-message" id="completionMessage">
            🎉 بارك الله فيك! لقد أتممت جميع الأذكار 🎉
        </div>

        <div id="dhikrContainer">
            <!-- سيتم إدراج الأذكار هنا بواسطة JavaScript -->
        </div>

        <div class="footer">
            <p>تقبل الله منا ومنكم صالح الأعمال</p>
            <button onclick="resetAllCounts()" class="reset-btn" style="margin-top: 10px; padding: 10px 20px;">
                إعادة تعيين جميع الأذكار
            </button>
            <div class="visitor-count">
                عدد زوار الموقع<br>
                👥 <span id="visitorCount">1730</span>
            </div>
        </div>
    </div>

    <script>
        // بيانات الأذكار
        const dhikrData = {
            morning: [
                {
                    id: 1,
                    text: "آية الكرسي: {الله لا إله إلا هو الحي القيوم لا تأخذه سنة ولا نوم له ما في السماوات وما في الأرض من ذا الذي يشفع عنده إلا بإذنه يعلم ما بين أيديهم وما خلفهم ولا يحيطون بشيء من علمه إلا بما شاء وسع كرسيه السماوات والأرض ولا يؤده حفظهما وهو العلي العظيم}",
                    source: "البقرة:255، رواه الحاكم وابن حبان.",
                    count: 1
                },
                {
                    id: 2,
                    text: "أصبحنا على فطرة الإسلام وكلمة الإخلاص، ودين نبينا محمد صلى الله عليه وسلم، وملة أبينا إبراهيم، حنيفا مسلما، وما كان من المشركين.",
                    source: "رواه أحمد.",
                    count: 1
                },
                {
                    id: 3,
                    text: "رضيت بالله ربا، وبالإسلام دينا، وبمحمد صلى الله عليه وسلم نبيا.",
                    source: "(ثلاث مرات). رواه أصحاب السنن.",
                    count: 3
                },
                {
                    id: 4,
                    text: "اللهم إني أسألك علما نافعا، ورزقا طيبا، وعملا متقبلا.",
                    source: "رواه ابن ماجه.",
                    count: 1
                },
                {
                    id: 5,
                    text: "اللهم بك أصبحنا، وبك أمسينا، وبك نحيا، وبك نموت، وإليك النشور.",
                    source: "رواه أصحاب السنن عدا النسائي.",
                    count: 1
                },
                {
                    id: 6,
                    text: "لا إله إلا الله وحده، لا شريك له، له الملك، وله الحمد، وهو على كل شيء قدير.",
                    source: "رواه البزار والطبراني في \"الدعاء\".",
                    count: 100
                },
                {
                    id: 7,
                    text: "يا حي يا قيوم برحمتك أستغيث، أصلح لي شأني كله، ولا تكلني إلى نفسي طرفة عين أبدا.",
                    source: "رواه البزار.",
                    count: 1
                },
                {
                    id: 8,
                    text: "اللهم أنت ربي، لا إله إلا أنت، خلقتني وأنا عبدك, وأنا على عهدك ووعدك ما استطعت، أعوذ بك من شر ما صنعت، أبوء لك بنعمتك علي، وأبوء بذنبي، فاغفر لي، فإنه لا يغفر الذنوب إلا أنت.",
                    source: "رواه البخاري.",
                    count: 1
                },
                {
                    id: 9,
                    text: "اللهم فاطر السموات والأرض، عالم الغيب والشهادة، رب كل شيء ومليكه، أشهد أن لا إله إلا أنت, أعوذ بك من شر نفسي، ومن شر الشيطان وشركه، وأن أقترف على نفسي سوءا، أو أجره إلى مسلم.",
                    source: "رواه الترمذي.",
                    count: 1
                },
                {
                    id: 10,
                    text: "أصبحنا وأصبح الملك لله، والحمد لله ولا إله إلا الله وحده لا شريك له، له الملك وله الحمد، وهو على كل شيء قدير، أسألك خير ما في هذا اليوم، وخير ما بعده، وأعوذ بك من شر هذا اليوم، وشر ما بعده، وأعوذ بك من الكسل وسوء الكبر، وأعوذ بك من عذاب النار وعذاب القبر.",
                    source: "رواه مسلم.",
                    count: 1
                },
                {
                    id: 11,
                    text: "اللهم إني أسألك العفو والعافية في الدنيا والآخرة، اللهم أسألك العفو والعافية في ديني ودنياي وأهلي ومالي، اللهم استر عوراتي، وآمن روعاتي، واحفظني من بين يدي، ومن خلفي، وعن يميني، وعن شمالي، ومن فوقي، وأعوذ بك أن أغتال من تحتي.",
                    source: "رواه أبو داود وابن ماجه.",
                    count: 1
                },
                {
                    id: 12,
                    text: "بسم الله الذي لا يضر مع اسمه شيء في الأرض ولا في السماء، وهو السميع العليم.",
                    source: "(ثلاث مرات). رواه أصحاب السنن عدا النسائي.",
                    count: 3
                },
                {
                    id: 13,
                    text: "سبحان الله عدد خلقه، سبحان الله رضا نفسه، سبحان الله زنة عرشه، سبحان الله مداد كلماته.",
                    source: "(ثلاث مرات). رواه مسلم.",
                    count: 3
                },
                {
                    id: 14,
                    text: "اللهم عافني في بدني، اللهم عافني في سمعي، اللهم عافني في بصري، لا إله إلا أنت، اللهم إني أعوذ بك من الكفر والفقر، اللهم إني أعوذ بك من عذاب القبر، لا إله إلا أنت.",
                    source: "(ثلاث مرات). رواه أبو داود.",
                    count: 3
                },
                {
                    id: 15,
                    text: "قراءة سور: الإخلاص، والفلق، والناس.",
                    source: "ثلاث مرات. رواه الترمذي.",
                    count: 3
                },
                {
                    id: 16,
                    text: "حسبي الله لا إله إلا هو عليه توكلت وهو رب العرش العظيم.",
                    source: "(التوبة:129). (سبع مرات). رواه أبو داود.",
                    count: 7
                },
                {
                    id: 17,
                    text: "اللهم إني أصبحت، أشهدك وأشهد حملة عرشك وملائكتك وجميع خلقك أنك أنت الله، وحدك لا شريك لك وأن محمدا عبدك ورسولك.",
                    source: "(أربع مرات). أبو داود والترمذي.",
                    count: 4
                },
                {
                    id: 18,
                    text: "لا إله إلا الله وحده، لا شريك له، له الملك، وله الحمد، يحيي ويميت، وهو على كل شيء قدير.",
                    source: "(عشر مرات). رواه ابن حبان.",
                    count: 10
                },
                {
                    id: 19,
                    text: "سبحان الله وبحمده. أو: سبحان الله العظيم وبحمده.",
                    source: "(مائة مرة أو أكثر). رواه مسلم.",
                    count: 100
                },
                {
                    id: 20,
                    text: "أستغفر الله.",
                    source: "(مائة مرة). رواه ابن أبي شيبة.",
                    count: 100
                },
                {
                    id: 21,
                    text: "اللهم صل وسلم على سيدنا محمد",
                    source: "(عشر مرات). رواه مسلم.",
                    count: 10
                },
                {
                    id: 22,
                    text: "اللهم ما أصبح بي من نعمة أو باحدٍ من خلقك فمنك وحدك لا شريك لك فلك الحمد ولك الشكر",
                    source: "رواه أبو داود والنسائي.",
                    count: 1
                },
                {
                    id: 23,
                    text: "أصبحنا وأصبح الملك لله رب العالمين اللهم إني أسألك خير هذا اليوم فتحه ونصره ونوره وبركته وهداه وأعوذ بك من شر ما فيه وشر ما بعده",
                    source: "رواه مسلم.",
                    count: 1
                },
                {
                    id: 24,
                    text: "الحمدلله وحده والصلاة والسلام على ما لا نبي بعده",
                    source: "رواه مسلم.",
                    count: 1
                }
            ],
            evening: [
                {
                    id: 1,
                    text: "آية الكرسي: {الله لا إله إلا هو الحي القيوم لا تأخذه سنة ولا نوم له ما في السماوات وما في الأرض من ذا الذي يشفع عنده إلا بإذنه يعلم ما بين أيديهم وما خلفهم ولا يحيطون بشيء من علمه إلا بما شاء وسع كرسيه السماوات والأرض ولا يؤده حفظهما وهو العلي العظيم}",
                    source: "البقرة:255، رواه الحاكم وابن حبان.",
                    count: 1
                },
                {
                    id: 2,
                    text: "أمسينا على فطرة الإسلام وكلمة الإخلاص، ودين نبينا محمد صلى الله عليه وسلم، وملة أبينا إبراهيم، حنيفا مسلما، وما كان من المشركين.",
                    source: "رواه أحمد.",
                    count: 1
                },
                {
                    id: 3,
                    text: "رضيت بالله ربا، وبالإسلام دينا، وبمحمد صلى الله عليه وسلم نبيا.",
                    source: "(ثلاث مرات). رواه أصحاب السنن.",
                    count: 3
                },
                {
                    id: 4,
                    text: "اللهم إني أسألك علما نافعا، ورزقا طيبا، وعملا متقبلا.",
                    source: "رواه ابن ماجه.",
                    count: 1
                },
                {
                    id: 5,
                    text: "اللهم بك أمسينا، وبك أصبحنا، وبك نحيا، وبك نموت، وإليك المصير.",
                    source: "رواه أصحاب السنن عدا النسائي.",
                    count: 1
                },
                {
                    id: 6,
                    text: "لا إله إلا الله وحده، لا شريك له، له الملك، وله الحمد، وهو على كل شيء قدير.",
                    source: "رواه البزار والطبراني في \"الدعاء\".",
                    count: 100
                },
                {
                    id: 7,
                    text: "يا حي يا قيوم برحمتك أستغيث، أصلح لي شأني كله، ولا تكلني إلى نفسي طرفة عين أبدا.",
                    source: "رواه البزار.",
                    count: 1
                },
                {
                    id: 8,
                    text: "اللهم أنت ربي، لا إله إلا أنت، خلقتني وأنا عبدك, وأنا على عهدك ووعدك ما استطعت، أعوذ بك من شر ما صنعت، أبوء لك بنعمتك علي، وأبوء بذنبي، فاغفر لي، فإنه لا يغفر الذنوب إلا أنت.",
                    source: "رواه البخاري.",
                    count: 1
                },
                {
                    id: 9,
                    text: "اللهم فاطر السموات والأرض، عالم الغيب والشهادة، رب كل شيء ومليكه، أشهد أن لا إله إلا أنت, أعوذ بك من شر نفسي، ومن شر الشيطان وشركه، وأن أقترف على نفسي سوءا، أو أجره إلى مسلم.",
                    source: "رواه الترمذي.",
                    count: 1
                },
                {
                    id: 10,
                    text: "أمسينا وأمسى الملك لله، والحمد لله ولا إله إلا الله وحده لا شريك له، له الملك وله الحمد، وهو على كل شيء قدير، أسألك خير ما في هذه الليلة، وخير ما بعدها، وأعوذ بك من شر هذه الليلة، وشر ما بعدها، وأعوذ بك من الكسل وسوء الكبر، وأعوذ بك من عذاب النار وعذاب القبر.",
                    source: "رواه مسلم.",
                    count: 1
                },
                {
                    id: 11,
                    text: "اللهم إني أسألك العفو والعافية في الدنيا والآخرة، اللهم أسألك العفو والعافية في ديني ودنياي وأهلي ومالي، اللهم استر عوراتي، وآمن روعاتي، واحفظني من بين يدي، ومن خلفي، وعن يميني، وعن شمالي، ومن فوقي، وأعوذ بك أن أغتال من تحتي.",
                    source: "رواه أبو داود وابن ماجه.",
                    count: 1
                },
                {
                    id: 12,
                    text: "بسم الله الذي لا يضر مع اسمه شيء في الأرض ولا في السماء، وهو السميع العليم.",
                    source: "(ثلاث مرات). رواه أصحاب السنن عدا النسائي.",
                    count: 3
                },
                {
                    id: 13,
                    text: "سبحان الله عدد خلقه، سبحان الله رضا نفسه، سبحان الله زنة عرشه، سبحان الله مداد كلماته.",
                    source: "(ثلاث مرات). رواه مسلم.",
                    count: 3
                },
                {
                    id: 14,
                    text: "اللهم عافني في بدني، اللهم عافني في سمعي، اللهم عافني في بصري، لا إله إلا أنت، اللهم إني أعوذ بك من الكفر والفقر، اللهم إني أعوذ بك من عذاب القبر، لا إله إلا أنت.",
                    source: "(ثلاث مرات). رواه أبو داود.",
                    count: 3
                },
                {
                    id: 15,
                    text: "قراءة سور: الإخلاص، والفلق، والناس.",
                    source: "ثلاث مرات. رواه الترمذي.",
                    count: 3
                },
                {
                    id: 16,
                    text: "حسبي الله لا إله إلا هو عليه توكلت وهو رب العرش العظيم.",
                    source: "(التوبة:129). (سبع مرات). رواه أبو داود.",
                    count: 7
                },
                {
                    id: 17,
                    text: "اللهم إني أمسيت، أشهدك وأشهد حملة عرشك وملائكتك وجميع خلقك أنك أنت الله، وحدك لا شريك لك وأن محمدا عبدك ورسولك.",
                    source: "(أربع مرات). أبو داود والترمذي.",
                    count: 4
                },
                {
                    id: 18,
                    text: "لا إله إلا الله وحده، لا شريك له، له الملك، وله الحمد، يحيي ويميت، وهو على كل شيء قدير.",
                    source: "(عشر مرات). رواه ابن حبان.",
                    count: 10
                },
                {
                    id: 19,
                    text: "سبحان الله وبحمده. أو: سبحان الله العظيم وبحمده.",
                    source: "(مائة مرة أو أكثر). رواه مسلم.",
                    count: 100
                },
                {
                    id: 20,
                    text: "أستغفر الله.",
                    source: "(مائة مرة). رواه ابن أبي شيبة.",
                    count: 100
                },
                {
                    id: 21,
                    text: "اللهم صل وسلم على سيدنا محمد",
                    source: "(عشر مرات). رواه مسلم.",
                    count: 10
                },
                {
                    id: 22,
                    text: "اللهم ما أمسى بي من نعمة أو باحدٍ من خلقك فمنك وحدك لا شريك لك فلك الحمد ولك الشكر",
                    source: "رواه أبو داود والنسائي.",
                    count: 1
                },
                {
                    id: 23,
                    text: "أمسينا وأمسى الملك لله رب العالمين اللهم إني أسألك خير هذه الليلة فتحها ونصرها ونورها وبركتها وهداها وأعوذ بك من شر ما فيها وشر ما بعدها",
                    source: "رواه مسلم.",
                    count: 1
                },
                {
                    id: 24,
                    text: "أعوذ بكلمات الله التامات من شر ما خلق",
                    source: "(ثلاث مرات). رواه مسلم.",
                    count: 3
                }
            ]
        };

        let currentMode = 'morning';
        let dhikrCounts = {};
        let reminderEnabled = false;
        let reminderInterval = null;

        // تفعيل/إلغاء التذكير
        function toggleReminder() {
            const btn = document.getElementById('reminderBtn');
            
            if (reminderEnabled) {
                // إلغاء التذكير
                reminderEnabled = false;
                if (reminderInterval) {
                    clearInterval(reminderInterval);
                    reminderInterval = null;
                }
                btn.innerHTML = '🔔 تفعيل التذكير';
                btn.style.background = 'rgba(255,255,255,0.2)';
                alert('تم إلغاء التذكير');
            } else {
                // تفعيل التذكير
                reminderEnabled = true;
                btn.innerHTML = '🔕 إلغاء التذكير';
                btn.style.background = 'rgba(46, 204, 113, 0.8)';
                
                // تذكير كل 6 ساعات (21600000 مللي ثانية)
                reminderInterval = setInterval(() => {
                    if ('Notification' in window) {
                        if (Notification.permission === 'granted') {
                            new Notification('تذكير الأذكار', {
                                body: currentMode === 'morning' ? 'حان وقت أذكار الصباح' : 'حان وقت أذكار المساء',
                                icon: '🕌'
                            });
                        }
                    }
                    alert(currentMode === 'morning' ? 'تذكير: حان وقت أذكار الصباح 🌅' : 'تذكير: حان وقت أذكار المساء 🌙');
                }, 21600000); // 6 ساعات
                
                // طلب إذن الإشعارات
                if ('Notification' in window && Notification.permission === 'default') {
                    Notification.requestPermission();
                }
                
                alert('تم تفعيل التذكير كل 6 ساعات');
            }
        }

        // تحميل البيانات المحفوظة
        function loadData() {
            const savedCounts = localStorage.getItem('dhikr_counts');
            if (savedCounts) {
                dhikrCounts = JSON.parse(savedCounts);
            }

            const savedMode = localStorage.getItem('dhikr_mode');
            if (savedMode) {
                currentMode = savedMode;
                switchMode(currentMode);
            }

            // تحديث عداد الزوار
            let visitorCount = localStorage.getItem('dhikr_visitors') || '1729';
            visitorCount = parseInt(visitorCount) + 1;
            localStorage.setItem('dhikr_visitors', visitorCount.toString());
            document.getElementById('visitorCount').textContent = visitorCount.toLocaleString('ar-EG');
        }

        // حفظ البيانات
        function saveData() {
            localStorage.setItem('dhikr_counts', JSON.stringify(dhikrCounts));
            localStorage.setItem('dhikr_mode', currentMode);
        }

        // تبديل الوضع
        function switchMode(mode) {
            currentMode = mode;
            document.body.className = mode;
            
            // تحديث العنوان
            const title = document.querySelector('.main-title');
            title.textContent = mode === 'morning' ? 'أذكار الصباح' : 'أذكار المساء';
            
            // تحديث الأزرار
            document.querySelectorAll('.toggle-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            document.querySelector(`.toggle-btn.${mode}`).classList.add('active');
            
            renderDhikr();
            saveData();
        }

        // عرض الأذكار
        function renderDhikr() {
            const container = document.getElementById('dhikrContainer');
            const dhikrList = dhikrData[currentMode];
            
            container.innerHTML = dhikrList.map(dhikr => {
                const currentCount = dhikrCounts[`${currentMode}_${dhikr.id}`] || 0;
                return `
                    <div class="dhikr-card">
                        <div class="dhikr-number">${dhikr.id}</div>
                        <div class="dhikr-text">${dhikr.text}</div>
                        <div class="dhikr-source">${dhikr.source}</div>
                        <div class="dhikr-controls">
                            <button class="count-btn" onclick="incrementCount('${currentMode}_${dhikr.id}')">
                                عدد المرات
                            </button>
                            <div class="count-display">
                                ${currentCount}/${dhikr.count}
                            </div>
                            <button class="reset-btn" onclick="resetCount('${currentMode}_${dhikr.id}')">
                                إعادة
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
            
            updateProgress();
        }

        // زيادة العداد
        function incrementCount(dhikrId) {
            const dhikr = getCurrentDhikr(dhikrId);
            if (!dhikr) return;
            
            const currentCount = dhikrCounts[dhikrId] || 0;
            if (currentCount < dhikr.count) {
                dhikrCounts[dhikrId] = currentCount + 1;
                renderDhikr();
                saveData();
                
                // التحقق من اكتمال جميع الأذكار
                if (isAllCompleted()) {
                    showCompletionMessage();
                }
            }
        }

        // إعادة تعيين عداد واحد
        function resetCount(dhikrId) {
            dhikrCounts[dhikrId] = 0;
            renderDhikr();
            saveData();
            hideCompletionMessage();
        }

        // إعادة تعيين جميع العدادات
        function resetAllCounts() {
            if (confirm('هل أنت متأكد من إعادة تعيين جميع الأذكار؟')) {
                dhikrCounts = {};
                renderDhikr();
                saveData();
                hideCompletionMessage();
            }
        }

        // الحصول على الذكر الحالي
        function getCurrentDhikr(dhikrId) {
            const [mode, id] = dhikrId.split('_');
            return dhikrData[mode].find(d => d.id == id);
        }

        // تحديث شريط التقدم
        function updateProgress() {
            const dhikrList = dhikrData[currentMode];
            let completedDhikr = 0;
            let totalDhikr = dhikrList.length;
            
            dhikrList.forEach(dhikr => {
                const currentCount = dhikrCounts[`${currentMode}_${dhikr.id}`] || 0;
                if (currentCount >= dhikr.count) {
                    completedDhikr++;
                }
            });
            
            const percentage = totalDhikr > 0 ? Math.round((completedDhikr / totalDhikr) * 100) : 0;
            const progressFill = document.getElementById('progressFill');
            progressFill.style.width = `${percentage}%`;
            progressFill.textContent = `${completedDhikr}/${totalDhikr} (${percentage}%)`;
        }

        // التحقق من اكتمال جميع الأذكار
        function isAllCompleted() {
            const dhikrList = dhikrData[currentMode];
            return dhikrList.every(dhikr => {
                const currentCount = dhikrCounts[`${currentMode}_${dhikr.id}`] || 0;
                return currentCount >= dhikr.count;
            });
        }

        // عرض رسالة الإكمال
        function showCompletionMessage() {
            document.getElementById('completionMessage').style.display = 'block';
        }

        // إخفاء رسالة الإكمال
        function hideCompletionMessage() {
            document.getElementById('completionMessage').style.display = 'none';
        }

        // تحميل البيانات عند بدء التطبيق
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
            renderDhikr();
        });
    </script>
</body>
</html>

